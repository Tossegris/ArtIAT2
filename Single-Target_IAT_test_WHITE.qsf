{"SurveyEntry":{"SurveyID":"SV_bNrOuHV1vEZohSd","SurveyName":"Single-Target IAT (test; WHITE)","SurveyDescription":null,"SurveyOwnerID":"UR_eXTlq5SPJlCiYuh","SurveyBrandID":"lehigh","DivisionID":"DV_2tyz6cBMolWfBNH","SurveyLanguage":"EN","SurveyActiveResponseSet":"RS_9miKNWZtmsgM9mZ","SurveyStatus":"Inactive","SurveyStartDate":"0000-00-00 00:00:00","SurveyExpirationDate":"0000-00-00 00:00:00","SurveyCreationDate":"2018-10-18 14:52:20","CreatorID":"UR_eXTlq5SPJlCiYuh","LastModified":"2018-10-19 08:44:27","LastAccessed":"0000-00-00 00:00:00","LastActivated":"0000-00-00 00:00:00","Deleted":null},"SurveyElements":[{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"BL","PrimaryAttribute":"Survey Blocks","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":[{"Type":"Default","Description":"IAT 1 - Compatible First [Target A on RIGHT with POS]","ID":"BL_6yE3F8l9hUikad7","BlockElements":[{"Type":"Question","QuestionID":"QID1"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID2"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID3"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID4"}],"Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}},{"Type":"Trash","Description":"Trash \/ Unused Questions","ID":"BL_4TPffpld6hjU9lb","BlockElements":null},{"Type":"Standard","Description":"IAT 2 - Incompatible First [Target A on LEFT with NEG]","ID":"BL_bdCVDLSCxhWO8OF","BlockElements":[{"Type":"Question","QuestionID":"QID5"},{"Type":"Page Break"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID6"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID7"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID8"}],"SubType":"","Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}},{"Type":"Standard","Description":"IAT 3 - Compatible First [Target A on LEFT with POS]","ID":"BL_0PS224iJB49NtVb","BlockElements":[{"Type":"Question","QuestionID":"QID9"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID10"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID11"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID12"}],"SubType":"","Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}},{"Type":"Standard","Description":"IAT4 - Incompatible First [Target A on RIGHT with NEG]","ID":"BL_9vuvYfD4zFpvUHj","BlockElements":[{"Type":"Question","QuestionID":"QID13"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID14"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID15"},{"Type":"Page Break"},{"Type":"Question","QuestionID":"QID16"}],"SubType":"","Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}},{"Type":"Standard","Description":"POST-IAT CONTENT","ID":"BL_8cOFDOXiSnNkZPT","BlockElements":[{"Type":"Question","QuestionID":"QID19"}],"SubType":""},{"Type":"Standard","Description":"PRE-IAT CONTENT","ID":"BL_bK4mX1d5TFsL4l7","BlockElements":[{"Type":"Question","QuestionID":"QID18"}],"SubType":"","Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Expanded"}},{"Type":"Standard","Description":"INCOMPATIBLE DEVICE","ID":"BL_cNsC1mCGKywJClf","BlockElements":[{"Type":"Question","QuestionID":"QID17"}],"SubType":""},{"Type":"Standard","SubType":"","Description":"Training Blocks","ID":"BL_4Vr468b4I13tYDH","BlockElements":[{"Type":"Question","QuestionID":"QID20"},{"Type":"Question","QuestionID":"QID21"}],"Options":{"BlockLocking":"false","RandomizeQuestions":"RandomWithOnlyX","Randomization":{"Advanced":{"TotalRandSubset":"1","QuestionsPerPage":0}},"BlockVisibility":"Collapsed"}}]},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"FL","PrimaryAttribute":"Survey Flow","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"Type":"Root","FlowID":"FL_1","Flow":[{"Type":"Branch","FlowID":"FL_10","Description":"New Branch","BranchLogic":{"0":{"0":{"LogicType":"DeviceType","Operator":"Is","LeftOperand":"mobile","Type":"Expression","Description":"<span class=\"ConjDesc\">If<\/span><span class=\"schema_desc\">Device Type<\/span><span class=\"select_val_desc Operator_desc\">Is<\/span><span class=\"select_val_desc LeftOperand_desc\">Mobile<\/span>"},"Type":"If"},"Type":"BooleanExpression"},"Flow":[{"Type":"Standard","ID":"BL_cNsC1mCGKywJClf","FlowID":"FL_8"},{"Type":"EndSurvey","FlowID":"FL_11"}]},{"Type":"Standard","ID":"BL_bK4mX1d5TFsL4l7","FlowID":"FL_7"},{"Type":"Standard","ID":"BL_4Vr468b4I13tYDH","FlowID":"FL_12"},{"Type":"Branch","FlowID":"FL_15","Description":"New Branch","BranchLogic":{"0":{"0":{"LogicType":"Question","QuestionID":"QID20","QuestionIsInLoop":"no","ChoiceLocator":"q:\/\/QID20\/ChoiceTextEntryValue","Operator":"Displayed","QuestionIDFromLocator":"QID20","LeftOperand":"q:\/\/QID20\/ChoiceDisplayed","Type":"Expression","Description":"<span class=\"ConjDesc\">If<\/span> <span class=\"QuestionDesc\">Negative Positive + Loading all the content... This should take less than 1 minute Now, the categ...<\/span> <span class=\"LeftOpDesc\">Text Response<\/span> <span class=\"OpDesc\">Is Displayed<\/span> "},"Type":"If"},"Type":"BooleanExpression"},"Flow":[{"Type":"BlockRandomizer","FlowID":"FL_9","SubSet":1,"EvenPresentation":true,"Flow":[{"Type":"Block","ID":"BL_6yE3F8l9hUikad7","FlowID":"FL_2"},{"Type":"Standard","ID":"BL_bdCVDLSCxhWO8OF","FlowID":"FL_3"}]}]},{"Type":"Branch","FlowID":"FL_16","Description":"New Branch","BranchLogic":{"0":{"0":{"LogicType":"Question","QuestionID":"QID21","QuestionIsInLoop":"no","ChoiceLocator":"q:\/\/QID21\/ChoiceTextEntryValue","Operator":"Displayed","QuestionIDFromLocator":"QID21","LeftOperand":"q:\/\/QID21\/ChoiceDisplayed","Type":"Expression","Description":"<span class=\"ConjDesc\">If<\/span> <span class=\"QuestionDesc\">Positive Negative + Loading all the content... This should take less than 1 minute Notice the cat...<\/span> <span class=\"LeftOpDesc\">Text Response<\/span> <span class=\"OpDesc\">Is Displayed<\/span> "},"Type":"If"},"Type":"BooleanExpression"},"Flow":[{"Type":"BlockRandomizer","FlowID":"FL_17","SubSet":1,"EvenPresentation":true,"Flow":[{"Type":"Standard","ID":"BL_0PS224iJB49NtVb","FlowID":"FL_4"},{"Type":"Standard","ID":"BL_9vuvYfD4zFpvUHj","FlowID":"FL_5"}]}]},{"Type":"Standard","ID":"BL_8cOFDOXiSnNkZPT","FlowID":"FL_6"}],"Properties":{"Count":17,"RemovedFieldsets":[]}}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SO","PrimaryAttribute":"Survey Options","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"BackButton":"false","SaveAndContinue":"true","SurveyProtection":"PublicSurvey","BallotBoxStuffingPrevention":"false","NoIndex":"Yes","SecureResponseFiles":"true","SurveyExpiration":"None","SurveyTermination":"DefaultMessage","Header":"","Footer":"","ProgressBarDisplay":"None","PartialData":"+1 week","ValidationMessage":"","PreviousButton":" &larr; ","NextButton":" &rarr; ","SkinLibrary":"Qualtrics","SkinType":"MQ","Skin":"v4qualtrics2","NewScoring":1,"libraryId":"","nextButtonMid":"","previousButtonMid":"","headerMid":"","footerMid":"","QuestionsPerPage":"","PageTransition":"None","ExternalCSS":null,"CustomStyles":{"errorStyles":{"selector":".Skin .ValidationError","styles":{"color":null,"backgroundColor":null,"borderColor":null}},"errorStylesBG":{"selector":".Skin .HeaderValidationError, .Skin .HeaderValidationError li a","styles":{"color":null,"backgroundColor":null}},"pageStyles":{"selector":"#SurveyEngineBody","styles":{"backgroundColor":null}},"textStyles":{"selector":".SkinInner","styles":{"fontFamily":null,"fontSize":null,"fontWeight":null,"fontStyle":null,"textDecoration":null,"color":null}},"questionStyles":{"selector":".Skin .QuestionText","styles":{"fontFamily":null,"fontSize":null,"fontWeight":null,"fontStyle":null,"textDecoration":null,"color":null}},"choiceStyles":{"selector":".Skin .horizontalbar th.ylabel, .Skin .Matrix table td, .Skin .Matrix table th, .Skin .Matrix table thead th, .Skin .Matrix table thead td, .Skin .PGR .DragAndDrop .Items label, .Skin .QuestionBody ul.ChoiceStructure, .Skin .PGR .DragAndDrop .Group ul, .Skin .PGR .DragAndDrop .Group h2, .Skin .PGR .DragAndDrop .Items ul, .Skin .PGR .DragAndDrop .Items h2, .Skin .DD .QuestionBody table.ChoiceStructure, .Skin .PGR .DragAndDrop .NoColumns td.groupsContainerTd div ul, .Skin .PGR .DragAndDrop .NoColumns td.groupsContainerTd div h2, .Skin .SBS thead th, .Skin .SBS td, .Skin .SBS .Answers td, .Skin .SBS .Answers th, .SBS table.ChoiceStructure, .Skin .horizontalbar thead table.LabelDescriptions tr td, .Skin .horizontalbar thead tr td.NotApplicable, .QuestionBody th, .Skin .QuestionBody .MC .MAVR label, .Skin .QuestionBody .MC .SAVR label, .Skin .SBS thead th, .Skin .SBS td, .Skin .RO .DND ul li, .Skin .reg, .SkinInner .ChoiceStructure, .Skin thead, .Skin .GAP .ChoiceStructure thead th, .Skin .GAP .ChoiceStructure .c4, .Skin .GAP .ChoiceStructure th, .Skin .GAP .ChoiceStructure .WhyText, .SkinInner .ChoiceStructure .LightBG, .Skin .QuestionOuter.Highlight .Inner .reg, .Skin .QuestionOuter.Highlight .Inner .alt, .Skin .QuestionOuter.Highlight .Inner .ReadableAlt       ","styles":{"fontFamily":null,"fontSize":null,"fontWeight":null,"fontStyle":null,"textDecoration":null,"color":null}},"headerStyles":{"selector":".Skin div#Header","styles":{"color":null}},"footerStyles":{"selector":".Skin #Footer","styles":{"color":null}},"questionSeparatorStyles":{"selector":".Skin .Separator","styles":{"backgroundColor":null,"display":null}},"highlightStyles":{"selector":".Skin .QuestionOuter.Highlight .Inner, .Skin .QuestionOuter.Highlight .Inner .reg, .Skin .QuestionOuter.Highlight .Inner .alt, .Skin .QuestionOuter.Highlight .Inner .ReadableAlt","styles":{"backgroundColor":null}},"highlightStylesAlt":{"selector":".Skin .QuestionOuter.Highlight .Inner .ReadableAlt, .Skin .QuestionOuter.Highlight .Inner .LightBG","styles":{"backgroundColor":null}},"textEntryStyles":{"selector":".Skin select, .Skin .InputText","styles":{"color":null}},"borderStyles":{"selector":".Skin .CS .horizontalbar table.sliderGrid tr.xlabel th, .Skin .CS .horizontalbar .ylabel, .Skin .CS .horizontalbar table.sliderGrid tr td.value, .Skin .Slider .horizontalbar table.sliderGrid tr.xlabel th, .Skin .BorderColor, .Skin .DarkBorderColor, .Skin .Slider .horizontalbar table.sliderGrid tr td.value, .Skin thead, .Skin .GAP .ChoiceStructure thead th  ","styles":{"borderColor":null}},"altRowStyles":{"selector":".Skin .ReadableAlt, .Skin .LightBG","styles":{"backgroundColor":null}},"customCSS":null},"HighlightQuestions":"off","ProtectSelectionIds":true}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SCO","PrimaryAttribute":"Scoring","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"ScoringCategories":[],"ScoringCategoryGroups":[],"ScoringSummaryCategory":null,"ScoringSummaryAfterQuestions":0,"ScoringSummaryAfterSurvey":0,"DefaultScoringCategory":null,"AutoScoringCategory":null}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"PROJ","PrimaryAttribute":"CORE","SecondaryAttribute":null,"TertiaryAttribute":"1.1.0","Payload":{"ProjectCategory":"CORE","SchemaVersion":"1.1.0"}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"STAT","PrimaryAttribute":"Survey Statistics","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"MobileCompatible":true,"ID":"Survey Statistics"}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"QC","PrimaryAttribute":"Survey Question Count","SecondaryAttribute":"21","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"RS","PrimaryAttribute":"RS_9miKNWZtmsgM9mZ","SecondaryAttribute":"Default Response Set","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID3","SecondaryAttribute":"Negative or White Positive + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p><\/b>Attention!<\/b> Notice that one of the categories has switched sides, but the rules remain the same.\n<br>\n<br>\nPlease practice this new configuration now. Remember to try to go as <em>fast as you can<\/em> while making as few errors as possible. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 4 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q3 RP3","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative or White Positive + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID3","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 17, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID5","SecondaryAttribute":"Negative or White Positive + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Attention! A <b>third<\/b> category has been added above, but the rules remain the same. Remember, each word\/image fits in only one of the three categories. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. Practice this combination now. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 2 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q5 LN1","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative or White Positive + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID5","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 17, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID6","SecondaryAttribute":"Negative or White Positive + Loading all the content... This should take less than 1 minute Conti...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Continue the task as you were completing it just before. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 3 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q6 LN2","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative or White Positive + Loading all the content... This should take less than 1 minute Conti...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID6","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 34, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID4","SecondaryAttribute":"Negative or White Positive + Loading all the content... This should take less than 1 minute Pleas...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n \n\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Please continue the task as you were just doing it. Again, try to go <i>as fast as possible<\/i> without making mistakes.  Correct errors by hitting the other key.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 5 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q4 RP4","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative or White Positive + Loading all the content... This should take less than 1 minute Pleas...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID4","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 34, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID20","SecondaryAttribute":"Negative Positive + Loading all the content... This should take less than 1 minute Instructions:...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Instructions: Place your left and right index fingers on the <span style=\"font-weight: strong\">E<\/span> and <span style=\"font-weight: strong\">I<\/span> keys. At the top of the screen are 2 categories. In the task, words and\/or images appear in the middle of the screen. <br><br>When the word\/image belongs to the category on the left, press the <span style=\"font-weight: bold\">E<\/span> key as fast as you can. When it belongs to the category on the right, press the <span style=\"font-weight: bold\">I<\/span> key as fast as you can. If you make an error, a red <span style=\"font-weight: bold; color: red\">X<\/span> will appear. Correct errors by hitting the other key.\n<br>\n<br>\nPlease try to go as <em>fast as you can<\/em> while making as few errors as possible.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 1 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\n\t\n\t\/\/DECLARE INITIAL VARIABLES\n\tvar currentStimulus;\n\tvar end; \n\tvar image_srcs;\n\tvar images; \n\tvar loadedImages;\n\tvar input; \n\tvar message;\n\tvar stimuli;\n\tvar note;\n\tvar posstim;\n\tvar negstim;\n\tvar Astim;\n\tvar Bstim;\n\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\n\tvar tgts;\n\tvar cats;\n\tvar tgtnum = [];\n\tvar catnum = [];\n\t\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\n \tvar addlines=\"<br><br><br>\";\t\n\t\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\n\tvar fix = 0;\n\tvar error;\n\t\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\n\tvar qID =this.questionId; \n\tqID = qID.replace(\"QID\", '');\n\tqID = parseInt(qID);\n\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\n\tInputId.style.display=\"none\";\n\n\t\/\/ HIDE NEXT BUTTON\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\n\tthis.hideNextButton();\n\t\n\n\t\/\/DECLARE FUNCTIONS\n\t\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\n\tfunction shuffle(array) {\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\n\t\t\t\n\t\t\t\/\/ While there remain elements to shuffle...\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\n\t\t\t\t\/\/ Pick a remaining element...\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\t\tcurrentIndex -= 1;\n\t\t\t\n\t\t\t\t\/\/ And swap it with the current element.\n\t\t\t\ttemporaryValue = array[currentIndex];\n\t\t\t\tarray[currentIndex] = array[randomIndex];\n\t\t\t\tarray[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t\t\n\t\t\treturn array;\n\t\t};\n\t\n\t\n\t\/\/ FUNCTION 1 - IMAGE LOADER\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\n\tfunction loadImages (image_srcs) {\n\t\tvar src, _i, _len;\n\t\t\n\t\t\/\/If no images specified, skip this step\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\n\t\t\n\t\timages = [];\n\t\tloadedImages = 0;\n\t\t\t\t\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\n\t\t\tsrc = image_srcs[_i];\n\t\t\timages.push(new Image);\n\n\t\t\timages[images.length - 1].src = src;\n\t\t\t\n\t\t\timages[images.length - 1].onerror = function() {\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\n\t\t\t};\n\t\t\t\n\t\t\timages[images.length - 1].onload = function() {\n\t\t\t\tloadedImages++;\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\n\t\t\t};\n\n\t\t}\n\t\treturn images;\n\t};\n\t\t\n\t\n\t\/\/ FUNCTION 2 - IMAGES LOADED\n\t\/* Runs when all image loader is finished, starts the keypress listener. \n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\n\tfunction imagesLoaded() {\n\t\tdocument.getElementById('loading').style.display = 'none';\n\t\tdocument.getElementById('instructions').style.display = 'block';\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\n\t};\n\t\n\n\t\/\/ FUNCTION 3 - START FUNCTION\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\n\tstarts the first trial. *\/\n\t function start() {\n\t\tmessage = document.getElementById(\"message\");\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\n\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\n\t\tinstructions.innerHTML = \"\"; \n\n\t\t\/\/ADD NOTE BELOW WINDOW\n\t\tnote = document.getElementById(\"note\");\n\t\tnote.innerHTML = \"\";\n\t\t\n\t\treturn nextQuestion();\n\t};\n\t\n\t\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\n\tto data and advances to the next IAT block. *\/\n\t  function nextQuestion() {\n\t\tif (stimuli.length !==0) {\n\n\t\t\tcurrentStimulus = stimuli.pop();\n\t\t\t\t\n\t\t\t\/\/ SET MESSAGE TO EMPTY\n\t\t\tmessage.innerHTML = \"\";\n\t\t\t\t\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\n\t\t\tcurrentStimulus.start = new Date().getTime();\n\t\t\t\t\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\n\t\t\t} else {\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\n \t\t\t}\n\n\t\t} else {\n\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \n\t\t\tmust therefore be disabled before continuing. *\/\n\t\t\tinput.value += \"END\";\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\n\t\t}\n\t};\n\t \n\t\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\n\t function keyCheck(e) {\n\t\tvar keyCode;\n\t\t\t\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \n\t\tstandards improve for keypress handling. *\/ \n\t\tif (window.event) {\n\t\t\tkeyCode = event.keyCode;\n\t\t} else {\n\t\t\tkeyCode = e.keyCode;\n\t\t}\n\t\t\t\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\n\t\tif (!currentStimulus) {\n\t\t\tif (keyCode === 32) {\n\t\t\t\tstart();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\n\t\t\t\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\n\t\tcurrentStimulus.end = new Date().getTime();\n\t\t\t\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\n \n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\n\t\t\/\/TRADITIONAL ERROR MODE\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\n\t\t\tcurrentStimulus = null;\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\n\t\n\t\t} else {\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\n\t\t\tcurrentStimulus = null;\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\n\t\t}\n\t};\n\t\n\t\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \n\tcorrecting the response naturally builds in an error.  *\/\n\t\n\tfunction keyCheckForcedError(e) {\n\t\tvar keyCode;\n\t\t\t\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \n\t\tstandards improve for keypress handling. *\/ \n\t\tif (window.event) {\n\t\t\tkeyCode = event.keyCode;\n\t\t} else {\n\t\t\tkeyCode = e.keyCode;\n\t\t}\n\t\t\t\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\n\t\tif (!currentStimulus) {\n\t\t\tif (keyCode === 32) {\n\t\t\t\tstart();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\n\t\t\t\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\n \n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\n\t\t\/\/FORCED ERROR CORRECTION MODE.\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\n\n\t\t\t\/\/ Score the timing and save it\n\t\t\tcurrentStimulus.end = new Date().getTime();\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\n\n\t\t\tif (fix==0){\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\n\t\t\t}\n\n\t\t\tif (fix==1){\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\n\t\t\t}\n\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\n\t\t\tfix=0;\n\t\t\tcurrentStimulus = null;\n\t\t\terror.innerHTML = \"\";\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\n\t\n\t\t} else {\n\t\t\terror.innerHTML = \"X\";\n\t\t\tfix=1;\n\t\t\treturn;\n\t\t}\n\t};\n\n\t\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\n\tfinal stimuli object. *\/\n\t\n\tfunction stimBuilder(array, destination, start, end){\n\t\tvar i = start;\n\t\twhile(i<end){\n\t\t\tshuffle(array);\n\t\t\tfor(var j=0; j<array.length; j++){\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\n\t\t\t\tdestination[i].index= array[j].index;\n\t\t\t\tdestination[i].correct= array[j].correct;\n\t\t\t\ti++;\n\t\t\t\tif (i === end){return;}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\n\t\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\n\tfunction altStimuil(){\n\t\t\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\n\t\tvar j = 0;\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \n\t\t\ttgtnum[j] = i; \/\/ starts at 1\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\n\t\t}\n\t\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\n\t\tfor (var i = 0; i < tgts.length; i++){\n\t\t\tvar alternating = tgtnum[i];\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\n\t\t\tstimuli[alternating].index = tgts[i].index;\n\t\t}\n\t\t\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\n\t\tfor (var i = 0; i < cats.length; i++){\n\t\t\tvar alternating = catnum[i];\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\n\t\t\tstimuli[alternating].correct = cats[i].correct;\n\t\t\tstimuli[alternating].index = cats[i].index;\n\t\t}\n\t}\n\n\t\n\n\t\/\/  IAT CONTENTS \n\t\n\t\/\/IMAGE URLS\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\n\timage_srcs = [];\n\n\n\t\/\/ THIS IS WHAT STARTS THE IAT\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\n\timages = loadImages(image_srcs);\n\n\t\/\/ STIMULI POOLS\n\tposstim = [\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 1},\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 2},\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 3},\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 4},\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 5},\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 6},\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 7}\n\t];\n\n\tnegstim = [\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 8},\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 9},\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 10},\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 11},\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 12},\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 13},\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 14}\n\t];\n\n\tAstim = [\n\t\t{stimulus: \"<b style='color:green'>Pos1<\/b>\", correct:\"NA\", index: 15},\n\t\t{stimulus: \"<b style='color:green'>Pos2<\/b>\", correct:\"NA\", index: 16},\n\t\t{stimulus: \"<b style='color:green'>Pos3<\/b>\", correct:\"NA\", index: 17},\n\t\t{stimulus: \"<b style='color:green'>Pos4<\/b>\", correct:\"NA\", index: 18},\n\t\t{stimulus: \"<b style='color:green'>Pos5<\/b>\", correct:\"NA\", index: 19},\n\t\t{stimulus: \"<b style='color:green'>Pos6<\/b>\", correct:\"NA\", index: 20},\n\t\t{stimulus: \"<b style='color:green'>Pos7<\/b>\", correct:\"NA\", index: 21}\n\t];\n\n\tBstim = [\n\t\t{stimulus: \"<b style='color:green'>Neg1<\/b>\", correct:\"NA\", index: 22},\n\t\t{stimulus: \"<b style='color:green'>Neg2<\/b>\", correct:\"NA\", index: 23},\n\t\t{stimulus: \"<b style='color:green'>Neg3<\/b>\", correct:\"NA\", index: 24},\n\t\t{stimulus: \"<b style='color:green'>Neg4<\/b>\", correct:\"NA\", index: 25},\n\t\t{stimulus: \"<b style='color:green'>Neg5<\/b>\", correct:\"NA\", index: 26},\n\t\t{stimulus: \"<b style='color:green'>Neg6<\/b>\", correct:\"NA\", index: 27},\n\t\t{stimulus: \"<b style='color:green'>Neg7<\/b>\", correct:\"NA\", index: 28}\n\t];\n\n\n\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\n\tstimuli = [\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\n\t];\n\n\n\t\/\/BUILD TRIALS\n\n\tvar half = stimuli.length \/ 2;\n\tvar cutoffs = [0, half, stimuli.length];\n\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\n\tstimBuilder(negstim, stimuli, cutoffs[1], cutoffs[2]);\n\n\tshuffle(stimuli);\n\tshuffle(stimuli);\n\n\n\n\n});\n","DefaultChoices":false,"DataExportTag":"RP","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative Positive + Loading all the content... This should take less than 1 minute Instructions:...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":1,"NextAnswerId":1,"QuestionID":"QID20"}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID1","SecondaryAttribute":"Negative Positive or White + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n \n\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Attention! A <b>third<\/b> category has been added above, but the rules remain the same. Remember, each word\/image fits in only one of the three categories. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. Practice this combination now. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 2 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q1 RP1","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative Positive or White + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID1","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 14, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID7","SecondaryAttribute":"Negative Positive or White + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p><\/b>Attention!<\/b> Notice that one of the categories has switched sides, but the rules remain the same.\n<br>\n<br>\nPlease practice this new configuration now. Remember to try to go as <em>fast as you can<\/em> while making as few errors as possible. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 4 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q7 LN3","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative Positive or White + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID7","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 14, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID2","SecondaryAttribute":"Negative Positive or White + Loading all the content... This should take less than 1 minute Conti...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Continue the task as you were completing it just before. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 3 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q2 RP2","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative Positive or White + Loading all the content... This should take less than 1 minute Conti...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID2","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 28, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID8","SecondaryAttribute":"Negative Positive or White + Loading all the content... This should take less than 1 minute Pleas...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Please continue the task as you were just doing it. Again, try to go <i>as fast as possible<\/i> without making mistakes.  Correct errors by hitting the other key.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 5 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q8 LN4","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Negative Positive or White + Loading all the content... This should take less than 1 minute Pleas...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID8","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:73, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:73, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:73, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:73, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:73, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:73, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:73, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:69, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:69, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:69, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:69, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:69, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:69, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:69, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 28, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID21","SecondaryAttribute":"Positive Negative + Loading all the content... This should take less than 1 minute Instructions:...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Instructions: Place your left and right index fingers on the <span style=\"font-weight: strong\">E<\/span> and <span style=\"font-weight: strong\">I<\/span> keys. At the top of the screen are 2 categories. In the task, words and\/or images appear in the middle of the screen. <br><br>When the word\/image belongs to the category on the left, press the <span style=\"font-weight: bold\">E<\/span> key as fast as you can. When it belongs to the category on the right, press the <span style=\"font-weight: bold\">I<\/span> key as fast as you can. If you make an error, a red <span style=\"font-weight: bold; color: red\">X<\/span> will appear. Correct errors by hitting the other key.\n<br>\n<br>\nPlease try to go as <em>fast as you can<\/em> while making as few errors as possible.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 1 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\n\t\n\t\/\/DECLARE INITIAL VARIABLES\n\tvar currentStimulus;\n\tvar end; \n\tvar image_srcs;\n\tvar images; \n\tvar loadedImages;\n\tvar input; \n\tvar message;\n\tvar stimuli;\n\tvar note;\n\tvar posstim;\n\tvar negstim;\n\tvar Astim;\n\tvar Bstim;\n\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\n\tvar tgts;\n\tvar cats;\n\tvar tgtnum = [];\n\tvar catnum = [];\n\t\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\n \tvar addlines=\"<br><br><br>\";\t\n\t\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\n\tvar fix = 0;\n\tvar error;\n\t\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\n\tvar qID =this.questionId; \n\tqID = qID.replace(\"QID\", '');\n\tqID = parseInt(qID);\n\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\n\tInputId.style.display=\"none\";\n\n\t\/\/ HIDE NEXT BUTTON\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\n\tthis.hideNextButton();\n\t\n\n\t\/\/DECLARE FUNCTIONS\n\t\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\n\tfunction shuffle(array) {\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\n\t\t\t\n\t\t\t\/\/ While there remain elements to shuffle...\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\n\t\t\t\t\/\/ Pick a remaining element...\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\t\tcurrentIndex -= 1;\n\t\t\t\n\t\t\t\t\/\/ And swap it with the current element.\n\t\t\t\ttemporaryValue = array[currentIndex];\n\t\t\t\tarray[currentIndex] = array[randomIndex];\n\t\t\t\tarray[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t\t\n\t\t\treturn array;\n\t\t};\n\t\n\t\n\t\/\/ FUNCTION 1 - IMAGE LOADER\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\n\tfunction loadImages (image_srcs) {\n\t\tvar src, _i, _len;\n\t\t\n\t\t\/\/If no images specified, skip this step\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\n\t\t\n\t\timages = [];\n\t\tloadedImages = 0;\n\t\t\t\t\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\n\t\t\tsrc = image_srcs[_i];\n\t\t\timages.push(new Image);\n\n\t\t\timages[images.length - 1].src = src;\n\t\t\t\n\t\t\timages[images.length - 1].onerror = function() {\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\n\t\t\t};\n\t\t\t\n\t\t\timages[images.length - 1].onload = function() {\n\t\t\t\tloadedImages++;\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\n\t\t\t};\n\n\t\t}\n\t\treturn images;\n\t};\n\t\t\n\t\n\t\/\/ FUNCTION 2 - IMAGES LOADED\n\t\/* Runs when all image loader is finished, starts the keypress listener. \n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\n\tfunction imagesLoaded() {\n\t\tdocument.getElementById('loading').style.display = 'none';\n\t\tdocument.getElementById('instructions').style.display = 'block';\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\n\t};\n\t\n\n\t\/\/ FUNCTION 3 - START FUNCTION\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\n\tstarts the first trial. *\/\n\t function start() {\n\t\tmessage = document.getElementById(\"message\");\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\n\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\n\t\tinstructions.innerHTML = \"\"; \n\n\t\t\/\/ADD NOTE BELOW WINDOW\n\t\tnote = document.getElementById(\"note\");\n\t\tnote.innerHTML = \"\";\n\t\t\n\t\treturn nextQuestion();\n\t};\n\t\n\t\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\n\tto data and advances to the next IAT block. *\/\n\t  function nextQuestion() {\n\t\tif (stimuli.length !==0) {\n\n\t\t\tcurrentStimulus = stimuli.pop();\n\t\t\t\t\n\t\t\t\/\/ SET MESSAGE TO EMPTY\n\t\t\tmessage.innerHTML = \"\";\n\t\t\t\t\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\n\t\t\tcurrentStimulus.start = new Date().getTime();\n\t\t\t\t\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\n\t\t\t} else {\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\n \t\t\t}\n\n\t\t} else {\n\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \n\t\t\tmust therefore be disabled before continuing. *\/\n\t\t\tinput.value += \"END\";\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\n\t\t}\n\t};\n\t \n\t\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\n\t function keyCheck(e) {\n\t\tvar keyCode;\n\t\t\t\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \n\t\tstandards improve for keypress handling. *\/ \n\t\tif (window.event) {\n\t\t\tkeyCode = event.keyCode;\n\t\t} else {\n\t\t\tkeyCode = e.keyCode;\n\t\t}\n\t\t\t\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\n\t\tif (!currentStimulus) {\n\t\t\tif (keyCode === 32) {\n\t\t\t\tstart();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\n\t\t\t\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\n\t\tcurrentStimulus.end = new Date().getTime();\n\t\t\t\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\n \n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\n\t\t\/\/TRADITIONAL ERROR MODE\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\n\t\t\tcurrentStimulus = null;\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\n\t\n\t\t} else {\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\n\t\t\tcurrentStimulus = null;\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\n\t\t}\n\t};\n\t\n\t\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \n\tcorrecting the response naturally builds in an error.  *\/\n\t\n\tfunction keyCheckForcedError(e) {\n\t\tvar keyCode;\n\t\t\t\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \n\t\tstandards improve for keypress handling. *\/ \n\t\tif (window.event) {\n\t\t\tkeyCode = event.keyCode;\n\t\t} else {\n\t\t\tkeyCode = e.keyCode;\n\t\t}\n\t\t\t\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\n\t\tif (!currentStimulus) {\n\t\t\tif (keyCode === 32) {\n\t\t\t\tstart();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\n\t\t\t\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\n \n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\n\t\t\/\/FORCED ERROR CORRECTION MODE.\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\n\n\t\t\t\/\/ Score the timing and save it\n\t\t\tcurrentStimulus.end = new Date().getTime();\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\n\n\t\t\tif (fix==0){\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\n\t\t\t}\n\n\t\t\tif (fix==1){\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\n\t\t\t}\n\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\n\t\t\tfix=0;\n\t\t\tcurrentStimulus = null;\n\t\t\terror.innerHTML = \"\";\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\n\t\n\t\t} else {\n\t\t\terror.innerHTML = \"X\";\n\t\t\tfix=1;\n\t\t\treturn;\n\t\t}\n\t};\n\n\t\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\n\tfinal stimuli object. *\/\n\t\n\tfunction stimBuilder(array, destination, start, end){\n\t\tvar i = start;\n\t\twhile(i<end){\n\t\t\tshuffle(array);\n\t\t\tfor(var j=0; j<array.length; j++){\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\n\t\t\t\tdestination[i].index= array[j].index;\n\t\t\t\tdestination[i].correct= array[j].correct;\n\t\t\t\ti++;\n\t\t\t\tif (i === end){return;}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\n\t\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\n\tfunction altStimuil(){\n\t\t\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\n\t\tvar j = 0;\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \n\t\t\ttgtnum[j] = i; \/\/ starts at 1\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\n\t\t}\n\t\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\n\t\tfor (var i = 0; i < tgts.length; i++){\n\t\t\tvar alternating = tgtnum[i];\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\n\t\t\tstimuli[alternating].index = tgts[i].index;\n\t\t}\n\t\t\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\n\t\tfor (var i = 0; i < cats.length; i++){\n\t\t\tvar alternating = catnum[i];\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\n\t\t\tstimuli[alternating].correct = cats[i].correct;\n\t\t\tstimuli[alternating].index = cats[i].index;\n\t\t}\n\t}\n\n\t\n\n\t\/\/  IAT CONTENTS \n\t\n\t\/\/IMAGE URLS\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\n\timage_srcs = [];\n\n\n\t\/\/ THIS IS WHAT STARTS THE IAT\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\n\timages = loadImages(image_srcs);\n\n\t\/\/ STIMULI POOLS\n\tposstim = [\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 1},\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 2},\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 3},\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 4},\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 5},\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 6},\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 7}\n\t];\n\n\tnegstim = [\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 8},\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 9},\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 10},\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 11},\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 12},\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 13},\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 14}\n\t];\n\n\tAstim = [\n\t\t{stimulus: \"<b style='color:green'>Pos1<\/b>\", correct:\"NA\", index: 15},\n\t\t{stimulus: \"<b style='color:green'>Pos2<\/b>\", correct:\"NA\", index: 16},\n\t\t{stimulus: \"<b style='color:green'>Pos3<\/b>\", correct:\"NA\", index: 17},\n\t\t{stimulus: \"<b style='color:green'>Pos4<\/b>\", correct:\"NA\", index: 18},\n\t\t{stimulus: \"<b style='color:green'>Pos5<\/b>\", correct:\"NA\", index: 19},\n\t\t{stimulus: \"<b style='color:green'>Pos6<\/b>\", correct:\"NA\", index: 20},\n\t\t{stimulus: \"<b style='color:green'>Pos7<\/b>\", correct:\"NA\", index: 21}\n\t];\n\n\tBstim = [\n\t\t{stimulus: \"<b style='color:green'>Neg1<\/b>\", correct:\"NA\", index: 22},\n\t\t{stimulus: \"<b style='color:green'>Neg2<\/b>\", correct:\"NA\", index: 23},\n\t\t{stimulus: \"<b style='color:green'>Neg3<\/b>\", correct:\"NA\", index: 24},\n\t\t{stimulus: \"<b style='color:green'>Neg4<\/b>\", correct:\"NA\", index: 25},\n\t\t{stimulus: \"<b style='color:green'>Neg5<\/b>\", correct:\"NA\", index: 26},\n\t\t{stimulus: \"<b style='color:green'>Neg6<\/b>\", correct:\"NA\", index: 27},\n\t\t{stimulus: \"<b style='color:green'>Neg7<\/b>\", correct:\"NA\", index: 28}\n\t];\n\n\n\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\n\tstimuli = [\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\n\t];\n\n\n\t\/\/BUILD TRIALS\n\n\tvar half = stimuli.length \/ 2;\n\tvar cutoffs = [0, half, stimuli.length];\n\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\n\tstimBuilder(negstim, stimuli, cutoffs[1], cutoffs[2]);\n\n\tshuffle(stimuli);\n\tshuffle(stimuli);\n\n\n\n\n});\n","DefaultChoices":false,"DataExportTag":"LP","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive Negative + Loading all the content... This should take less than 1 minute Instructions:...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":1,"NextAnswerId":1,"QuestionID":"QID21"}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID11","SecondaryAttribute":"Positive Negative or White + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p><\/b>Attention!<\/b> Notice that one of the categories has switched sides, but the rules remain the same.\n<br>\n<br>\nPlease practice this new configuration now. Remember to try to go as <em>fast as you can<\/em> while making as few errors as possible. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 4 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q11 LP3","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive Negative or White + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID11","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 17, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID13","SecondaryAttribute":"Positive Negative or White + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n \n\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Attention! A <b>third<\/b> category has been added above, but the rules remain the same. Remember, each word\/image fits in only one of the three categories. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. Practice this combination now. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 2 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q13 RN1","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive Negative or White + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID13","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 17, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID14","SecondaryAttribute":"Positive Negative or White + Loading all the content... This should take less than 1 minute Conti...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Continue the task as you were completing it just before. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 3 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q14 RN2","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive Negative or White + Loading all the content... This should take less than 1 minute Conti...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID14","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 34, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID12","SecondaryAttribute":"Positive Negative or White + Loading all the content... This should take less than 1 minute Pleas...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n \n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n or<div style=\"color: green;\">White<\/div>\n\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Please continue the task as you were just doing it. Again, try to go <i>as fast as possible<\/i> without making mistakes.  Correct errors by hitting the other key.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 5 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q12 LP4","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive Negative or White + Loading all the content... This should take less than 1 minute Pleas...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID12","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:73, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:73, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:73, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:73, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:73, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:73, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:73, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 34, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID9","SecondaryAttribute":"Positive or White Negative + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Attention! A <b>third<\/b> category has been added above, but the rules remain the same. Remember, each word\/image fits in only one of the three categories. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. Practice this combination now. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 2 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q9 LP1","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive or White Negative + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID9","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 14, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID15","SecondaryAttribute":"Positive or White Negative + Loading all the content... This should take less than 1 minute Atten...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p><\/b>Attention!<\/b> Notice that one of the categories has switched sides, but the rules remain the same.\n<br>\n<br>\nPlease practice this new configuration now. Remember to try to go as <em>fast as you can<\/em> while making as few errors as possible. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 4 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q15 RN3","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive or White Negative + Loading all the content... This should take less than 1 minute Atten...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID15","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 7, 14, 24];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID10","SecondaryAttribute":"Positive or White Negative + Loading all the content... This should take less than 1 minute Conti...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n \n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Continue the task as you were completing it just before. The label\/item colors may help you identify the appropriate category.\n<br>\n<br>\nUse the <span style=\"font-weight: bold\">E<\/span> key for the category\/categories on the left and the <span style=\"font-weight: bold\">I<\/span> key for the category\/categories on the right. Again, try to go as fast as possible without making mistakes. Correct errors by hitting the other key. \n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 3 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q10 LP2","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive or White Negative + Loading all the content... This should take less than 1 minute Conti...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID10","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 28, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","PrivateData":false,"DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID16","SecondaryAttribute":"Positive or White Negative + Loading all the content... This should take less than 1 minute Pleas...","TertiaryAttribute":null,"Payload":{"QuestionText":"<style>\n\ndiv.border {\n    position: absolute;\n    width: 700px;\n    height: 500px;\n    border: 3px solid black;\n}\n\ndiv.labright {\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    line-height: 110%;\n    font-size: 30px;\n    font-weight: bold;\n    text-align: center;\n    font-family: arial;\n}\n\ndiv.lableft {\n    position: absolute;\n    top: 1%;\n    left: 1%;\n    line-height: 110%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    font-family: arial;   \n}\n\ndiv.load {\n    position: absolute;\n    top: 55%;\n    width: 100%;\n    display: block;\n    text-align: center;\n    font-size: 16px;\n    font-weight: normal;\n    font-family: \"Times New Roman\";   \n}\n\ndiv.instruct {\n    position: absolute;\n    text-align: center;\n    bottom: 0%;\n    font-size: 16px; \n    font-family: \"Times New Roman\";\n    line-height: 110%;\n    display: none;\n    padding-top: 10px; \n    padding-right: 10px;\n    padding-bottom: 10px; \n    padding-left: 10px;\n}\n\nh2.center {\n    position: absolute;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    top: 29%;\n    font-size: 30px; \n    font-weight: bold;\n    font-family: arial;\n}\n\np.note {\n    position: absolute;\n    text-align: center;\n    bottom: 1%;\n    font-size: 16px; \n    width: 100%;\n    line-height: 100%;\n    font-family: \"Times New Roman\";\n}\n\nh2.err {\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 100%;\n    line-height: 100%;\n    bottom: 8%;\n    font-size: 80px; \n    font-weight: bold;\n    font-family: arial;\n    color: red;\n}\n\n<\/style>\n\n<div class=\"border\">\n\n\n<div class=\"lableft\">\n <div style=\"color: black;\">Positive<\/div>\n or<div style=\"color: green;\">White<\/div>\n<\/div>\n\n\n<div class=\"labright\">\n <div style=\"color: black;\">Negative<\/div>\n \n\n<\/div>\n\n\n<h2 class=\"center\" id=\"message\"><br><br><br>+<\/h2>\n<h2 class=\"err\" id=\"error\"><\/h2>\n\n<div class=\"load\">\n<p id=\"loading\">Loading all the content...\n<br>\n<br>\nThis should take less than 1 minute<\/p>\n<\/div>\n\n<div class=\"instruct\" id=\"instructions\">\n<p>Please continue the task as you were just doing it. Again, try to go <i>as fast as possible<\/i> without making mistakes.  Correct errors by hitting the other key.\n<br>\n<br>\nWhen you are ready, please press the [Space] bar to begin.\n<br>\n<br>\nPart 5 of 5<\/p>\n<\/div>\n<p class=\"note\" id=\"note\"><\/p>\n<\/div>\n\n<div style=\"opacity: 0; font-size:300px; color:#fff;\"><p>x<\/p><\/div>","DefaultChoices":false,"DataExportTag":"Q16 RN4","QuestionType":"TE","Selector":"SL","Configuration":{"QuestionDescriptionOption":"UseText","AllowFreeResponse":"false"},"QuestionDescription":"Positive or White Negative + Loading all the content... This should take less than 1 minute Pleas...","Validation":{"Settings":{"ForceResponse":"OFF","ForceResponseType":"ON","Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID16","PrivateData":false,"QuestionJS":"Qualtrics.SurveyEngine.addOnload(function() {\r\n\t\r\n\t\/\/DECLARE INITIAL VARIABLES\r\n\tvar currentStimulus;\r\n\tvar end; \r\n\tvar image_srcs;\r\n\tvar images; \r\n\tvar loadedImages;\r\n\tvar input; \r\n\tvar message;\r\n\tvar stimuli;\r\n\tvar note;\r\n\tvar posstim;\r\n\tvar negstim;\r\n\tvar Astim;\r\n\tvar Bstim;\r\n\r\n\t\/\/USED FOR ALTERNATING TRIAL FORMAT ONLY\r\n\tvar tgts;\r\n\tvar cats;\r\n\tvar tgtnum = [];\r\n\tvar catnum = [];\r\n\t\r\n\t\/\/DEFINE addlines. THIS WILL BE PUT IN FRONT OF WORD STIMULI TO DROP THEM DOWN TO BETTER ALIGN WITH IMAGE CENTERS.\r\n \tvar addlines=\"<br><br><br>\";\t\r\n\t\r\n\t\/\/ THE FOLLOWING ARE ONLY USED IF FORCED ERROR CORRECTION IS ENABLED\r\n\tvar fix = 0;\r\n\tvar error;\r\n\t\r\n\t\/\/ CLEAN qID VARIABLE OF CHARACTERS AND SAVE AS NUMERIC FOR LATER USE\r\n\tvar qID =this.questionId; \r\n\tqID = qID.replace(\"QID\", '');\r\n\tqID = parseInt(qID);\r\n\r\n\t\/\/ GRAB INPUTID AS REFERENCE TO QUESTION AND HIDE TEXT BOX\r\n\tvar InputId = document.getElementById(\"QR~\"+this.questionId);\r\n\tInputId.style.display=\"none\";\r\n\r\n\t\/\/ HIDE NEXT BUTTON\r\n\tif (document.getElementById('NextButton')) document.getElementById('NextButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n        if (document.getElementById('PrevButton')) document.getElementById('PrevButton').style.display=\"none\"; \/\/OLD API ...MAY NOT WORK NOW\r\n\tthis.hideNextButton();\r\n\t\r\n\r\n\t\/\/DECLARE FUNCTIONS\r\n\t\r\n\t\/\/SHUFFLER - RANDOMIZES CONTENTS OF AN ARRAY USING A WELL VALIDATED METHOD\r\n\tfunction shuffle(array) {\r\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex ;\r\n\t\t\t\r\n\t\t\t\/\/ While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\t\t\t\r\n\t\t\t\t\/\/ Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\t\t\t\r\n\t\t\t\t\/\/ And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn array;\r\n\t\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 1 - IMAGE LOADER\r\n\t\/* This function is the first command in the IAT. It is invoked by code at the bottom of this script \r\n\tand puts all image stimuli in an array called images. If the image_srcs object has no URLs in it, this skips ahead\r\n\tto the next portion of the IAT without loading any images. If errors are encountered, the IAT block is skipped. *\/\r\n\tfunction loadImages (image_srcs) {\r\n\t\tvar src, _i, _len;\r\n\t\t\r\n\t\t\/\/If no images specified, skip this step\r\n\t\tif(\timage_srcs.length == 0) {return imagesLoaded();}\r\n\t\t\r\n\t\timages = [];\r\n\t\tloadedImages = 0;\r\n\t\t\t\t\r\n\t\tfor (_i = 0, _len = image_srcs.length; _i < _len; _i++) {\r\n\t\t\tsrc = image_srcs[_i];\r\n\t\t\timages.push(new Image);\r\n\r\n\t\t\timages[images.length - 1].src = src;\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onerror = function() {\r\n\t\t\t\talert(\"Your web browser encountered an issue running this portion of the study. You will be skipped ahead. You may have to click through this message several times.\");\r\n\t\t\t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\timages[images.length - 1].onload = function() {\r\n\t\t\t\tloadedImages++;\r\n\t\t\t\tif (loadedImages = images.length) return imagesLoaded();\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\treturn images;\r\n\t};\r\n\t\t\r\n\t\r\n\t\/\/ FUNCTION 2 - IMAGES LOADED\r\n\t\/* Runs when all image loader is finished, starts the keypress listener. \r\n\tFor a forced-error-correction IAT, the last line should return keyCheckForcedError instead of keyCheck*\/\r\n\tfunction imagesLoaded() {\r\n\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\tdocument.getElementById('instructions').style.display = 'block';\r\n\t\treturn document.addEventListener('keyup', keyCheckForcedError, false);\r\n\t};\r\n\t\r\n\r\n\t\/\/ FUNCTION 3 - START FUNCTION\r\n\t\/* Runs when the spacebar is pressed after the keypress listener has begun. Does initial houskeeping (grabs HTML content\r\n\tsuch as message, error, etc. and makes it so we can write to them). It sets as 'input' the contents of the question text box,\r\n\tso we can write data to the question by editing that value. It also sets instructions to null. It then shuffles stimuli and\r\n\tstarts the first trial. *\/\r\n\t function start() {\r\n\t\tmessage = document.getElementById(\"message\");\r\n\t\terror = document.getElementById(\"error\"); \/\/USED ONLY WITH FORCED ERROR CORRECTION\r\n\t\tinput = document.getElementById(\"QR~QID\" + qID);\r\n\r\n\t\t\/\/MAKE INSTRUCTIONS EMPTY\r\n\t\tinstructions.innerHTML = \"\"; \r\n\r\n\t\t\/\/ADD NOTE BELOW WINDOW\r\n\t\tnote = document.getElementById(\"note\");\r\n\t\tnote.innerHTML = \"Press E or I to advance to the next word\/image. Correct mistakes by pressing the other key.\";\r\n\t\t\r\n\t\treturn nextQuestion();\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 4 - LAUNCHES QUESTION\r\n\t\/* This function runs on start() and after a new trial begins. If we have not depleted the stimuli object, it grabs (and removes)\r\n\tthe last trial from the stimuli object and calls it currentStimulus, then proceeds to use it for an IAT trial. A start time is\r\n\tidentified and the stimulus is shown (different methods for images or words). If the stimuli object is depleted, appends END\r\n\tto data and advances to the next IAT block. *\/\r\n\t  function nextQuestion() {\r\n\t\tif (stimuli.length !==0) {\r\n\r\n\t\t\tcurrentStimulus = stimuli.pop();\r\n\t\t\t\t\r\n\t\t\t\/\/ SET MESSAGE TO EMPTY\r\n\t\t\tmessage.innerHTML = \"\";\r\n\t\t\t\t\r\n\t\t\t\/\/ DECLARE START OF CURRENT STIMULUS\r\n\t\t\tcurrentStimulus.start = new Date().getTime();\r\n\t\t\t\t\r\n\t\t\t\/\/ FOR IMAGES, USE APPEND CHILD TO DISPLAY. IF NOT, ADD STIMULUS VALUE TO MESSAGE.\r\n\t\t\tif (typeof currentStimulus.stimulus === 'object') {\r\n \t\t\t\treturn message.appendChild(currentStimulus.stimulus);\r\n\t\t\t} else {\r\n \t\t\t\treturn message.innerHTML += addlines + currentStimulus.stimulus;\r\n \t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t\/\/WHEN STIMULI HAS NO TRIALS REMAINING, APPEND END, DISABLE KEY LISTENER, AND CLICK NEXT BUTTON\r\n\t\t\t\/* IMPORTANT: In Qualtrics, the keypress listener stays active from one page to the next and \r\n\t\t\tmust therefore be disabled before continuing. *\/\r\n\t\t\tinput.value += \"END\";\r\n\t\t\tdocument.removeEventListener('keyup', keyCheckForcedError, false); \r\n\t \t\tif (document.getElementById('NextButton')) document.getElementById('NextButton').click();\r\n\t\t}\r\n\t};\r\n\t \r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR STANDARD ERROR MODE\r\n\t\/* This function grabs whatever key was pressed and saves it as keyCode. Depending on what was pressed, it will\r\n\tstart the IAT, write data, display next trials, etc. Note that errors are handled by swapping the message out \r\n\tfor a red X (the error message below the stimulus is NOT used). Note also that an alternative version of this\r\n\tfunction is defined below but only ONE will be called in a given IAT.*\/\r\n\t function keyCheck(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ ADD END PROPRETY TO CURRENTSTIM\r\n\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\t\r\n\t\t\/\/ CALCULATE DIFFERENCE AND SAVE\r\n\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/TRADITIONAL ERROR MODE\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\r\n\t\t\tmessage.innerHTML = \"<b style='color:red;font-size:80px'><br><br>X<\/b>\";\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\tsetTimeout(function() {return message.innerHTML = \"<br><br><br>+\";}, 250);\r\n\t\t\treturn setTimeout(function() {return nextQuestion();}, 250);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t\/\/ FUNCTION 5 - KEYPRESS LISTENER FOR FORCED ERROR CORRECTION MODE\r\n\t\/* This is an alternate form of same function, but it (1) only writes data when a correct response is entered (2) \r\n\ton errors, displays a red X that remains until the correct response is entered, and (3) scores as an error if the \r\n\tinitial responses was incorrect (Greenwald et al., 2003). This should be scored without an error penalty as \r\n\tcorrecting the response naturally builds in an error.  *\/\r\n\t\r\n\tfunction keyCheckForcedError(e) {\r\n\t\tvar keyCode;\r\n\t\t\t\r\n\t\t\/* depending on how this was triggered, grab keycode and save as keyCode. May need upgrading as web \r\n\t\tstandards improve for keypress handling. *\/ \r\n\t\tif (window.event) {\r\n\t\t\tkeyCode = event.keyCode;\r\n\t\t} else {\r\n\t\t\tkeyCode = e.keyCode;\r\n\t\t}\r\n\t\t\t\r\n\t\t\/\/ IF NO CURRENT STIMULUS (ONLY HAPPENS PRIOR TO START OF IAT), SPACEBAR CAN START IAT\r\n\t\tif (!currentStimulus) {\r\n\t\t\tif (keyCode === 32) {\r\n\t\t\t\tstart();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t\/\/ NEXT, END FUNCTION IF NOT E OR I KEYS. IF CONTINUING AFTER THIS, MUST BE E OR I KEYPRESS.\r\n\t\tif (!(keyCode === 69 || keyCode === 73)) return;\r\n\t\t\t\r\n\t\t\/\/ note - do NOT grab timing here as it may be an error response\r\n \r\n\t\t\/\/IF THE KEYCODE MATCHES THE CORRECT PART OF CURRENT STIMULUS, WRITE TO DATA AND DO OTHER STEPS\r\n\t\t\/\/FORCED ERROR CORRECTION MODE.\r\n\t\tif (keyCode === currentStimulus.correct) {\t\t\t\t\r\n\r\n\t\t\t\/\/ Score the timing and save it\r\n\t\t\tcurrentStimulus.end = new Date().getTime();\r\n\t\t\tcurrentStimulus.reactionTime = currentStimulus.end - currentStimulus.start;\r\n\r\n\t\t\tif (fix==0){\r\n\t\t\t\tinput.value += currentStimulus.index + \"C\" + currentStimulus.reactionTime + \",\";\t\r\n\t\t\t}\r\n\r\n\t\t\tif (fix==1){\r\n\t\t\t\tinput.value += currentStimulus.index + \"X\" + currentStimulus.reactionTime + \",\";\t\/\/ score as error if we had to correct\r\n\t\t\t}\r\n\r\n\t\t\tmessage.innerHTML = \"<br><br><br>+\";\r\n\t\t\tfix=0;\r\n\t\t\tcurrentStimulus = null;\r\n\t\t\terror.innerHTML = \"\";\r\n\t\t\treturn setTimeout(function() {return nextQuestion(); }, 250);\r\n\t\r\n\t\t} else {\r\n\t\t\terror.innerHTML = \"X\";\r\n\t\t\tfix=1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\t\/\/FUNCTION 6 - TAKES CONTENTS FROM A STIMULI POOL AND PLACES INTO PORTION OF AN OBJECT\r\n\t\/* This function takes items from a given stimuli pool and places it randomly into portions of a destination object (positions\r\n\tbetween start and end). This is used, for example, to take portions of posstim and put it into a portion of the final \r\n\tstimuli object, or to move contents into intermediate objects that can then be placed (in alternating order) into a\r\n\tfinal stimuli object. *\/\r\n\t\r\n\tfunction stimBuilder(array, destination, start, end){\r\n\t\tvar i = start;\r\n\t\twhile(i<end){\r\n\t\t\tshuffle(array);\r\n\t\t\tfor(var j=0; j<array.length; j++){\r\n\t\t\t\tdestination[i].stimulus= array[j].stimulus;\r\n\t\t\t\tdestination[i].index= array[j].index;\r\n\t\t\t\tdestination[i].correct= array[j].correct;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === end){return;}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\/\/FUNCTION 7 - FOR COMBINED BLOCKS WITH ALTERNATING FORMAT ONLY\r\n\t\/* For combined blocks with an alternating form, this function is used to transfer stimuli from \r\n\tintermediary pools (cats and tgts) into the final stimuli object in an alternating format *\/\r\n\tfunction altStimuil(){\r\n\t\t\r\n\t\t\/\/CREATE INDICES OF ALTERNATING NUMBERS TO USE FOR TGT AND CAT TRIALS\r\n\t\tvar j = 0;\r\n\t\tfor(var i = 1; i < stimuli.length; i += 2) { \r\n\t\t\ttgtnum[j] = i; \/\/ starts at 1\r\n\t\t\tcatnum[j] = (i-1); \/\/ starts at 0\r\n\t\t\tj++; \/\/ represents position in tgt\/cat number array\r\n\t\t}\r\n\t\r\n\t\t\/\/ FOR ALL TARGETS, MOVE CONTENTS FROM TARGET INTO STIMULI USING TGTNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < tgts.length; i++){\r\n\t\t\tvar alternating = tgtnum[i];\r\n\t\t\tstimuli[alternating].stimulus = tgts[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = tgts[i].correct;\r\n\t\t\tstimuli[alternating].index = tgts[i].index;\r\n\t\t}\r\n\t\t\r\n\t\t\/\/ FOR ALL CATEGORIES, MOVE CONTENTS FROM TARGET INTO STIMULI USING CATNUM TO INDEX TRIALS\r\n\t\tfor (var i = 0; i < cats.length; i++){\r\n\t\t\tvar alternating = catnum[i];\r\n\t\t\tstimuli[alternating].stimulus = cats[i].stimulus;\r\n\t\t\tstimuli[alternating].correct = cats[i].correct;\r\n\t\t\tstimuli[alternating].index = cats[i].index;\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t\/\/  IAT CONTENTS \r\n\t\r\n\t\/\/IMAGE URLS\r\n\t\/* Consists of all pos, neg, A, and B images (in that order). *\/\r\n\timage_srcs = [];\r\n\r\n\r\n\t\/\/ THIS IS WHAT STARTS THE IAT\r\n\t\/* This line of code triggers the IAT by running the first function. Note that the code skips image loading if image_srcs \r\n\tis empty. Note that this must come before stimuli in order that images[] references are defined.  *\/\r\n\timages = loadImages(image_srcs);\r\n\r\n\t\/\/ STIMULI POOLS\r\n\tposstim = [\r\n\t\t{stimulus: \"<b style='color:green'>White1<\/b>\", correct:69, index: 1},\r\n\t\t{stimulus: \"<b style='color:green'>White2<\/b>\", correct:69, index: 2},\r\n\t\t{stimulus: \"<b style='color:green'>White3<\/b>\", correct:69, index: 3},\r\n\t\t{stimulus: \"<b style='color:green'>White4<\/b>\", correct:69, index: 4},\r\n\t\t{stimulus: \"<b style='color:green'>White5<\/b>\", correct:69, index: 5},\r\n\t\t{stimulus: \"<b style='color:green'>White6<\/b>\", correct:69, index: 6},\r\n\t\t{stimulus: \"<b style='color:green'>White7<\/b>\", correct:69, index: 7}\r\n\t];\r\n\r\n\tAstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Good1<\/b>\", correct:69, index: 8},\r\n\t\t{stimulus: \"<b style='color:black'>Good2<\/b>\", correct:69, index: 9},\r\n\t\t{stimulus: \"<b style='color:black'>Good3<\/b>\", correct:69, index: 10},\r\n\t\t{stimulus: \"<b style='color:black'>Good4<\/b>\", correct:69, index: 11},\r\n\t\t{stimulus: \"<b style='color:black'>Good5<\/b>\", correct:69, index: 12},\r\n\t\t{stimulus: \"<b style='color:black'>Good6<\/b>\", correct:69, index: 13},\r\n\t\t{stimulus: \"<b style='color:black'>Good7<\/b>\", correct:69, index: 14}\r\n\t];\r\n\r\n\tBstim = [\r\n\t\t{stimulus: \"<b style='color:black'>Bad1<\/b>\", correct:73, index: 15},\r\n\t\t{stimulus: \"<b style='color:black'>Bad2<\/b>\", correct:73, index: 16},\r\n\t\t{stimulus: \"<b style='color:black'>Bad3<\/b>\", correct:73, index: 17},\r\n\t\t{stimulus: \"<b style='color:black'>Bad4<\/b>\", correct:73, index: 18},\r\n\t\t{stimulus: \"<b style='color:black'>Bad5<\/b>\", correct:73, index: 19},\r\n\t\t{stimulus: \"<b style='color:black'>Bad6<\/b>\", correct:73, index: 20},\r\n\t\t{stimulus: \"<b style='color:black'>Bad7<\/b>\", correct:73, index: 21}\r\n\t];\r\n\r\n\r\n\r\n\t\/\/EMPTY SET OF TRIALS - LOADS FROM POOLS ABOVE\r\n\tstimuli = [\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"},\r\n\t\t{stimulus: \"\", correct: \"\", index: \"\"}\r\n\t];\r\n\r\n\r\n\t\/\/BUILD TRIALS\r\n\r\n\tvar cutoffs = [0, 14, 28, 48];\r\n\r\n\tstimBuilder(posstim, stimuli, cutoffs[0], cutoffs[1]);\r\n\tstimBuilder(Astim, stimuli, cutoffs[1], cutoffs[2]);\r\n\tstimBuilder(Bstim, stimuli, cutoffs[2], cutoffs[3]);\r\n\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\tshuffle(stimuli);\r\n\r\n\r\n\r\n\r\n});\r\n","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID18","SecondaryAttribute":"The Single-Target IAT (ST-IAT) below\u00a0begins by randomly assigning participants to one of two 'Tra..","TertiaryAttribute":null,"Payload":{"QuestionText":"<div>\n<div>The Single-Target IAT (ST-IAT) below&nbsp;begins by randomly assigning participants to one of two &#39;Training Blocks&#39;: one permutation has &quot;POSITIVE&quot; on the right (and vice-versa with &quot;NEGATIVE&quot;), while the other has &quot;POSITIVE&quot; on the left (and vice-versa). Depending on participants&#39; random assignment to these training blocks, they will then be randomly assigned to one of the following permutations of the ST-IAT<\/div>\n\n<div>&nbsp;<\/div>\n\n<div><u>&quot;POSITIVE&quot; on right; &quot;NEGATIVE&quot; on left:<\/u><\/div>\n\n<div>Compatible first - Target A on right initially paired with positive (RP)<\/div>\n\n<div>Incompatible&nbsp;first - Target A on left initially paired with negative (LN)<\/div>\n\n<div>&nbsp;<\/div>\n\n<div><u>&quot;POSITIVE&quot; on left; &quot;NEGATIVE&quot; on right:<\/u><\/div>\n\n<div>\n<div>Compatible&nbsp;first - Target A on left initially paired with positive (LP)<\/div>\n\n<div>Incompatible first - Target A on right initially paired with negative (RN)<br \/>\n<br \/>\n<strong>(2018-10-19 Nick Ungson)<br \/>\nIn the ST-IAT below, the category labels are &quot;POSITIVE&quot; and &quot;NEGATIVE&quot; and the target label is &quot;WHITE&quot;; the actual stimuli are dummy terms that correpond to each (e.g., good1, good2, ...; bad1, bad2, ...; white1, white2,...). As per the iatgen R package, there are 7 stimuli per category (e.g., white1:white7).<br \/>\n<br \/>\n<em>Other notes:<\/em><\/strong><\/div>\n\n<ul>\n\t<li><b>First block in study immediately excludes participants using a mobile device (computer is necessary for study)<\/b><\/li>\n\t<li><b>ENSURE that &quot;Minimal 2014&quot; Qualtrics theme is used<\/b><\/li>\n\t<li><b>ENSURE that animated transitions are&nbsp;<u>disabled<\/u>&nbsp;in Qualtrics<\/b><\/li>\n<\/ul>\n<\/div>\n<\/div>","DefaultChoices":false,"DataExportTag":"Q20","QuestionType":"DB","Selector":"TB","PrivateData":false,"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"The Single-Target IAT (ST-IAT) below\u00a0begins by randomly assigning participants to one of two 'Tra...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID18","DataVisibility":{"Private":false,"Hidden":false},"NextChoiceId":1,"NextAnswerId":1}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID17","SecondaryAttribute":"The survey software has detected that you are attempting to take this survey from an incompatible...","TertiaryAttribute":null,"Payload":{"QuestionText":"The survey software has detected that you are attempting to take this survey from an incompatible device. The survey contains questions that will only function correctly on a computer with a keyboard. Please open this survey from a computer with a keyboard.&nbsp;","DefaultChoices":false,"DataExportTag":"Q18","QuestionType":"DB","Selector":"TB","PrivateData":false,"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"The survey software has detected that you are attempting to take this survey from an incompatible...","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID17"}},{"SurveyID":"SV_bNrOuHV1vEZohSd","Element":"SQ","PrimaryAttribute":"QID19","SecondaryAttribute":"This serves as a placeholder for post-IAT content. Be sure to see our notes above.","TertiaryAttribute":null,"Payload":{"QuestionText":"This serves as a placeholder for post-IAT content. Be sure to see our notes above.","DefaultChoices":false,"DataExportTag":"Q22","QuestionType":"DB","Selector":"TB","PrivateData":false,"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"This serves as a placeholder for post-IAT content. Be sure to see our notes above.","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"QuestionID":"QID19"}}]}